import os
from pathlib import Path

num_ops_list = [100, 60]
factor_list = [-1, 1, 2, 4, 8]

base_dir = Path('/scratch/pavel/out/ap-defense-3-parallel/')

victims = [
    # ('1rrkm8fq', 'ops:10,exp:-1'), already done
    ('x2j1joii', 'ops:10,exp:1'),
    ('1kb1pw6q', 'ops:10,exp:2'),
    ('13o7gmd6', 'ops:10,exp:4'),
    ('p6awk5ox', 'ops:10,exp:8'),
    ('2r6dv5lf', 'ops:20,exp:-1'),
    ('3q9ym0u3', 'ops:20,exp:1'),
    ('4sx6opvq', 'ops:20,exp:2'),
    ('1xajoibu', 'ops:20,exp:4'),
    ('pkkief88', 'ops:20,exp:8'),
    # ('31o3gkmq', 'ops:30,exp:-1') not yet
]

for folder, description in victims:
    os.system(f"python -m train --alg ppo --mode finetune --adv-id 1 --victim-policy-name main" +
              ' --override "{\\"num_sgd_iter\\":4}" --checkpoint-freq 80000 --max-timesteps 800000'
              f' --victim-path {base_dir / folder} --description "{folder},{description}"')
