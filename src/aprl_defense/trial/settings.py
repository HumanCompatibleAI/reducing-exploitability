from dataclasses import dataclass
from pathlib import Path
from typing import Optional

from aprl_defense.common.artifact_manager import ArtifactManager


@dataclass
class TrialSettings:
    out_path: Path
    artifact_manager: ArtifactManager
    checkpoint_freq: int
    seed: int
    num_workers: Optional[int] = None
    override: Optional[str] = None
    override_f: Optional[str] = None
    continue_artifact: Optional[str] = None


@dataclass
class RLSettings:
    # RL
    env: str
    alg: str
    max_timesteps: int = 1_500_000
    # ML
    train_batch_size: int = 4000
