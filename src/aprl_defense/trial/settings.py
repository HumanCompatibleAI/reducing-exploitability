from dataclasses import dataclass
from pathlib import Path
from typing import Optional, List

from aprl_defense.common.artifact_manager import ArtifactManager


@dataclass
class TrialSettings:
    out_path: Path
    artifact_manager: ArtifactManager
    checkpoint_freq: int
    num_workers: Optional[int] = None
    override: str = None


@dataclass
class RLSettings:
    # RL
    env: str
    algs: List[str]
    max_timesteps: int = 1_500_000
    # ML
    num_sgd_iter: Optional[int] = None
    train_batch_size: int = 4000
